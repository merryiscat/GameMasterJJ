# **6. 마스터 실행 계획 (Master Execution Plan)**

**참조 문서**: docs/0_architecture.md, docs/5_data_model_schema.md
**작성일**: 2025-09-17
**버전**: 1.0

## **6.1 프로젝트 개발 로드맵**

### **Phase 1: 기반 구축 (Foundation) - 2주**
**목표**: 다중 에이전트 시스템 및 기본 게임 규칙 엔진 구축
**핵심 산출물**: 에이전트 시스템, 주사위 엔진, 데이터베이스 스키마

### **Phase 2: 음성 통합 (Voice Integration) - 1주**
**목표**: STT/TTS 파이프라인 및 실시간 음성 인터페이스 구현
**핵심 산출물**: 음성 처리 시스템, WebSocket 통신

### **Phase 3: 사용자 인터페이스 (User Interface) - 2주**
**목표**: React Native 기반 모바일 앱 및 게임 화면 구현
**핵심 산출물**: 모바일 앱, 채팅 인터페이스, 캐릭터 시트

### **Phase 4: 스토리렛 시스템 (Storylet System) - 1주**
**목표**: 동적 내러티브 시스템 및 RAG 기반 세계관 관리
**핵심 산출물**: 스토리렛 엔진, 콘텐츠 관리 시스템

### **Phase 5: 테스트 및 최적화 (Testing & Optimization) - 1주**
**목표**: 통합 테스트, 성능 최적화, 버그 수정
**핵심 산출물**: 안정적인 MVP 버전

**총 개발 기간**: 7주 (35 작업일)

## **6.2 Phase 1: 기반 구축 (Foundation)**

### **TASK-001: 프로젝트 초기 설정**
- **작업 ID**: TASK-001
- **제목**: 개발 환경 구축 및 프로젝트 구조 설정
- **담당자**: 개발자
- **상태**: 준비됨
- **의존성**: 없음
- **소요 시간**: 1일
- **입력 문서**: docs/0_architecture.md, docs/5_data_model_schema.md

- **세부 작업**:
  1. Python 가상 환경 설정 (FastAPI, SQLAlchemy, OpenAI SDK)
  2. 데이터베이스 스키마 생성 (SQLite)
  3. 기본 프로젝트 구조 구축
  4. Git 리포지토리 초기화
  5. 개발 도구 설정 (pytest, black, mypy)

- **성공 기준**:
  - 모든 의존성 패키지 설치 완료
  - 데이터베이스 연결 테스트 성공
  - 기본 FastAPI 서버 실행 확인

### **TASK-002: 다중 에이전트 시스템 구현**
- **작업 ID**: TASK-002
- **제목**: OpenAI Agents SDK 기반 에이전트 시스템
- **담당자**: 개발자
- **상태**: 준비됨
- **의존성**: TASK-001
- **소요 시간**: 3일
- **입력 문서**: docs/0_architecture.md, docs/2_detailed_functional_specification.md

- **세부 작업**:
  1. Triage_GM_Agent 구현 (라우팅 로직)
  2. Rules_Keeper_Agent 구현 (게임 규칙 처리)
  3. Narrator_Agent 구현 (스토리 서술)
  4. NPC_Interaction_Agent 구현 (NPC 대화)
  5. Lore_Keeper_Agent 구현 (세계관 정보)
  6. Handoffs 시스템 구현

- **성공 기준**:
  - 모든 에이전트 독립 테스트 통과
  - 에이전트 간 Handoffs 동작 확인
  - 기본 게임 시나리오 실행 성공

### **TASK-003: 게임 규칙 엔진 구현**
- **작업 ID**: TASK-003
- **제목**: Tools 기반 주사위 및 상태 관리 시스템
- **담당자**: 개발자
- **상태**: 준비됨
- **의존성**: TASK-002
- **소요 시간**: 2일
- **입력 문서**: docs/2_detailed_functional_specification.md, docs/5_data_model_schema.md

- **세부 작업**:
  1. 주사위 굴리기 도구 구현 (roll_dice)
  2. 캐릭터 상태 관리 도구 (get_stat, set_stat)
  3. 인벤토리 관리 도구 (add_item, remove_item)
  4. 상태 효과 관리 시스템
  5. 게임 상태 영속성 구현

- **성공 기준**:
  - 모든 규칙 도구 정확성 검증
  - 상태 일관성 유지 확인
  - 규칙 위반 시 적절한 오류 처리

### **TASK-004: API 엔드포인트 구현**
- **작업 ID**: TASK-004
- **제목**: REST API 및 게임 세션 관리
- **담당자**: 개발자
- **상태**: 준비됨
- **의존성**: TASK-003
- **소요 시간**: 2일
- **입력 문서**: docs/4_api_specification.md

- **세부 작업**:
  1. 게임 세션 CRUD API
  2. 캐릭터 관리 API
  3. 플레이어 액션 처리 API
  4. 에이전트 직접 호출 API
  5. 오류 처리 및 검증 로직

- **성공 기준**:
  - 모든 API 엔드포인트 정상 동작
  - OpenAPI 문서 자동 생성
  - API 응답 시간 3초 이하

## **6.3 Phase 2: 음성 통합 (Voice Integration)**

### **TASK-005: STT/TTS 파이프라인 구현**
- **작업 ID**: TASK-005
- **제목**: 연결형 음성 처리 시스템
- **담당자**: 개발자
- **상태**: 준비됨
- **의존성**: TASK-004
- **소요 시간**: 2일
- **입력 문서**: docs/0_architecture.md, docs/4_api_specification.md

- **세부 작업**:
  1. OpenAI Whisper STT 통합
  2. OpenAI TTS 통합
  3. 오디오 파일 처리 시스템
  4. 음성 품질 최적화
  5. 에러 핸들링 및 재시도 로직

- **성공 조건**:
  - STT 정확도 95% 이상
  - TTS 지연시간 3초 이하
  - 한국어 음성 처리 안정성

### **TASK-006: 실시간 음성 WebSocket**
- **작업 ID**: TASK-006
- **제목**: WebSocket 기반 실시간 음성 통신
- **담당자**: 개발자
- **상태**: 준비됨
- **의존성**: TASK-005
- **소요 시간**: 1일
- **입력 문서**: docs/4_api_specification.md

- **세부 작업**:
  1. WebSocket 연결 관리
  2. 실시간 오디오 스트리밍
  3. 음성 활동 감지 (VAD)
  4. 연결 상태 모니터링
  5. 자동 재연결 로직

- **성공 조건**:
  - WebSocket 연결 안정성
  - 실시간 음성 처리 지연 1초 이하
  - 연결 오류 자동 복구

## **6.4 Phase 3: 사용자 인터페이스 (User Interface)**

### **TASK-007: React Native 앱 기초**
- **작업 ID**: TASK-007
- **제목**: 모바일 앱 기본 구조 및 내비게이션
- **담당자**: 개발자
- **상태**: 준비됨
- **의존성**: TASK-006
- **소요 시간**: 2일
- **입력 문서**: docs/3_ui_design_system.md

- **세부 작업**:
  1. React Native 프로젝트 초기화
  2. 내비게이션 구조 구현
  3. 기본 화면 레이아웃
  4. 디자인 토큰 시스템 적용
  5. 상태 관리 (Redux/Context) 설정

- **성공 조건**:
  - iOS/Android 앱 빌드 성공
  - 기본 화면 간 내비게이션 동작
  - 디자인 시스템 일관성 확인

### **TASK-008: 게임 화면 구현**
- **작업 ID**: TASK-008
- **제목**: 채팅 인터페이스 및 음성 컨트롤
- **담당자**: 개발자
- **상태**: 준비됨
- **의존성**: TASK-007
- **소요 시간**: 3일
- **입력 문서**: docs/3_ui_design_system.md, docs/2_detailed_functional_specification.md

- **세부 작업**:
  1. 실시간 채팅 인터페이스
  2. 음성 입력 버튼 및 시각화
  3. AI 응답 스트리밍 표시
  4. 메시지 히스토리 관리
  5. 음성/텍스트 모드 전환

- **성공 조건**:
  - 채팅 인터페이스 반응성
  - 음성 입력 정확한 동작
  - 메시지 순서 및 타임스탬프 정확성

### **TASK-009: 캐릭터 시트 구현**
- **작업 ID**: TASK-009
- **제목**: 캐릭터 정보 관리 화면
- **담당자**: 개발자
- **상태**: 준비됨
- **의존성**: TASK-008
- **소요 시간**: 2일
- **입력 문서**: docs/3_ui_design_system.md, docs/5_data_model_schema.md

- **세부 작업**:
  1. 캐릭터 능력치 표시
  2. 인벤토리 관리 인터페이스
  3. 상태 효과 표시
  4. 실시간 데이터 동기화
  5. 편집 모드 구현

- **성공 조건**:
  - 실시간 캐릭터 정보 업데이트
  - 직관적인 인벤토리 관리
  - 데이터 변경 시 즉시 반영

## **6.5 Phase 4: 스토리렛 시스템 (Storylet System)**

### **TASK-010: 스토리렛 엔진 구현**
- **작업 ID**: TASK-010
- **제목**: 동적 내러티브 시스템
- **담당자**: 개발자
- **상태**: 준비됨
- **의존성**: TASK-009
- **소요 시간**: 3일
- **입력 문서**: docs/0_architecture.md, docs/5_data_model_schema.md

- **세부 작업**:
  1. 스토리렛 데이터 로더
  2. 조건부 스토리렛 선택 로직
  3. 추상적 행동 구체화 시스템
  4. 게임 상태 기반 분기 처리
  5. 스토리렛 실행 및 후처리

- **성공 조건**:
  - 스토리렛 조건 평가 정확성
  - 동적 분기 처리 안정성
  - 게임 상태 일관성 유지

### **TASK-011: RAG 기반 세계관 시스템**
- **작업 ID**: TASK-011
- **제목**: 검색 증강 생성 세계관 관리
- **담당자**: 개발자
- **상태**: 준비됨
- **의존성**: TASK-010
- **소요 시간**: 2일
- **입력 문서**: docs/0_architecture.md

- **세부 작업**:
  1. 세계관 문서 벡터화
  2. 유사도 검색 시스템
  3. 컨텍스트 추출 및 필터링
  4. Lore_Keeper_Agent 통합
  5. 스포일러 방지 로직

- **성공 조건**:
  - 관련 정보 정확한 검색
  - 스포일러 내용 적절한 필터링
  - 응답 일관성 및 정확성

## **6.6 Phase 5: 테스트 및 최적화 (Testing & Optimization)**

### **TASK-012: 통합 테스트**
- **작업 ID**: TASK-012
- **제목**: 전체 시스템 통합 테스트
- **담당자**: 개발자
- **상태**: 준비됨
- **의존성**: TASK-011
- **소요 시간**: 2일
- **입력 문서**: docs/7_unit_Integration_Test.md

- **세부 작업**:
  1. 엔드투엔드 게임 시나리오 테스트
  2. 에이전트 시스템 통합 테스트
  3. 음성 처리 파이프라인 테스트
  4. API 부하 테스트
  5. 모바일 앱 사용성 테스트

- **성공 조건**:
  - 모든 핵심 시나리오 통과
  - 성능 목표 달성
  - 사용자 경험 기준 충족

### **TASK-013: 성능 최적화 및 버그 수정**
- **작업 ID**: TASK-013
- **제목**: 최종 최적화 및 안정화
- **담당자**: 개발자
- **상태**: 준비됨
- **의존성**: TASK-012
- **소요 시간**: 3일
- **입력 문서**: docs/8_bug_report.md

- **세부 작업**:
  1. 성능 병목 지점 분석 및 개선
  2. 메모리 사용량 최적화
  3. API 응답 시간 개선
  4. 발견된 버그 수정
  5. 사용자 피드백 반영

- **성공 조건**:
  - AI 응답 시간 3초 이하
  - 앱 메모리 사용량 4GB 이하
  - 크리티컬 버그 0개
  - 사용자 만족도 4.0/5.0 이상

## **6.7 리스크 관리 및 완화 방안**

### **기술적 리스크**
1. **LLM API 응답 지연**: 캐싱 및 응답 최적화로 완화
2. **음성 처리 정확도**: 대체 STT 서비스 준비
3. **모바일 앱 성능**: 프로파일링 및 최적화 도구 활용

### **일정 리스크**
1. **외부 API 의존성**: 개발 초기 API 연동 우선 처리
2. **복잡한 에이전트 시스템**: 단계별 구현 및 테스트
3. **음성 기능 복잡성**: 텍스트 버전 우선 완성 후 음성 추가

### **품질 리스크**
1. **AI 응답 품질**: 지속적인 프롬프트 개선
2. **게임 규칙 일관성**: 충분한 테스트 케이스 작성
3. **사용자 경험**: 조기 사용성 테스트 실시

## **6.8 성공 기준 및 검수 체크리스트**

### **Phase별 완료 기준**

**Phase 1 완료 기준**
- [ ] 5개 에이전트 모두 독립 동작 확인
- [ ] 기본 게임 시나리오 (캐릭터 생성 → 액션 → 주사위 → 결과) 완료
- [ ] API 엔드포인트 모든 테스트 통과

**Phase 2 완료 기준**
- [ ] 음성 입력 정확도 95% 이상
- [ ] 음성 출력 지연시간 3초 이하
- [ ] WebSocket 연결 안정성 확인

**Phase 3 완료 기준**
- [ ] 모바일 앱 iOS/Android 빌드 성공
- [ ] 모든 주요 화면 정상 동작
- [ ] 실시간 데이터 동기화 확인

**Phase 4 완료 기준**
- [ ] 스토리렛 동적 선택 정확성
- [ ] RAG 기반 세계관 정보 검색 동작
- [ ] 게임 상태 일관성 유지

**Phase 5 완료 기준**
- [ ] 전체 게임 플레이 시나리오 통과
- [ ] 성능 목표 달성 (응답 3초 이하, 메모리 4GB 이하)
- [ ] 크리티컬 버그 0개

## **6.9 배포 및 운영 준비**

### **배포 체크리스트**
- [ ] 모든 환경 변수 설정 확인
- [ ] 데이터베이스 백업 시스템 구축
- [ ] 로그 수집 및 모니터링 설정
- [ ] API 키 보안 설정 확인
- [ ] 앱스토어 배포 준비 완료

### **운영 모니터링**
- API 응답 시간 모니터링
- 에러율 추적
- 사용자 활동 로그 분석
- 리소스 사용량 모니터링
- 사용자 피드백 수집 시스템